<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Topological Material Analysis: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Topological Material Analysis<span id="projectnumber">&#160;0.5</span>
   </div>
   <div id="projectbrief">Analyse the structures of materials using tools from TDA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p><a href="https://zenodo.org/doi/10.5281/zenodo.10781424"><img src="https://zenodo.org/badge/682051112.svg" alt="DOI" style="pointer-events: none;" class="inline"/></a></p>
<p>TopologicalMaterialAnalysis is a Python application to analyse topological structures in materials. It can be used via a graphical user interface or a command line interface. It was developed in conjunction with the <a href="https://sites.google.com/view/smedskjaer">Glass Structure and Mechanics Group, Aalborg Unviersity</a>.</p>
<p>Currently, you need the following Python packages to be installed:</p><ul>
<li>Streamlit</li>
<li>ASE</li>
<li>Pandas</li>
<li>Numpy</li>
<li>SciPy</li>
<li>Dionysus</li>
<li>Diode</li>
<li>Oineus</li>
<li>Plotly Express</li>
<li>colour</li>
<li>+ any i have forgotten</li>
</ul>
<p>You will also need to ensure tkinter, CGAL, oneTBB are installed.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Documentation</h1>
<p>The full documentation is built using <a href="https://www.doxygen.nl/">doxygen</a>, which you will need to install if you want to build the documentation locally. This README contains a quick start guide, and the documentation shouldn't be necessary unless you encounter erros, or wish to contribute to the application.</p>
<p>To build the documentation locally, run </p><div class="fragment"><div class="line">doxygen</div>
</div><!-- fragment --><p> in the top-level repository directory. Then, the HTML documents will be generated in <code>Documentation/html</code>. <a href="https://www.doxygen.nl/">doxygen</a> also builds LaTeX documentation, which is in <code>Documentation/latex</code> which needs to be compiled. Do to so, run</p>
<div class="fragment"><div class="line">make</div>
</div><!-- fragment --><p> in <code>Documentation/latex</code>.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Running the GUI:</h2>
<p>Once you have all the packages installed and are in your python environment of choice, and from a terminal (on Mac/Linux) or Command prompt(?) (Windows), run </p><div class="fragment"><div class="line">streamlit run src/ToMA.py</div>
</div><!-- fragment --><p>You can then select from 3 different modes: <code>single</code>, <code>multi</code> and <code>batch</code>. Using the GUI should be pretyy self-explanatory from here.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Running the CLI: (deprecated)</h2>
<p>To run the CLI, use </p><div class="fragment"><div class="line">src/ToMA.py -i c -s $SETTINGSFILE -n $SETTINGSNAME</div>
</div><!-- fragment --><p>The <code>SETTINGSFILE</code> should be an <code>.ini</code> file, and each <code>section</code> corresponds to a set of variables. Depending on what mode is being used, the contents of the section will differ a little bit. Each <code>section</code> needs to contain a variable <code>MODE</code> which can have values <code>single</code>, <code>multi</code>, or <code>batch</code>. All three modes also need information about the structure settings to use, which are also stored in an <code>.ini</code> file. This structure file can also be used to load structures when using the GUI. For information on formating the structure file, see Structure files section.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Settings file</h2>
<p>To use the CLI of <a class="el" href="namespaceToMA.html">ToMA</a>, it is easiest to specify the settings in a <code>.ini</code> file. Depending on which mode of <a class="el" href="namespaceToMA.html">ToMA</a> you want to use, there are different parameters required. Common to them all is <code>MODE</code>, which, unsurprisingly, specifies the mode.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Settings for single mode</h1>
<p>In single mode, <a class="el" href="namespaceToMA.html">ToMA</a> analyses a single structure at a single timestep, and so requires the following parameters:</p><ul>
<li><code>STRUCTURE_FILE</code>: this is the file containing the structure you want to analyse.</li>
<li><code>FILE_FORMAT</code>: format of the structure file.</li>
<li><code>SAMPLE_TIME</code>: which time step you want to analyse.</li>
<li><code>CONFIGURATION_FILE</code>: the file which contains information about configuration you are analysing, see the Configuration files section.</li>
<li><code>CONFIGURATION_NAME</code>: name of the configuration in the configuration file. while the following are optional:</li>
<li><code>N_THREADS</code>: number of threads to use for Oineus.</li>
<li><code>KERNEL</code>: boolean, set to true if you want to compute kernel persistence.</li>
<li><code>IMAGE</code>: boolean, set to true if you want to compute image persistence.</li>
<li><code>COKERNEL</code>: boolean, set to true if you want to compute cokernel persistence.</li>
<li><code>THICKNESS</code>: set how thick the top and bottom slices should be for kernel/image/cokernel persistence, as a decimal, representing the relative thickness.</li>
<li><code>SAVE_PLOTS</code>: boolean, set to true if you want to save the plots.</li>
</ul>
<p>For example: </p><div class="fragment"><div class="line">[SINGLE]</div>
<div class="line">MODE = SINGLE</div>
<div class="line">STRUCTURE_FILE = examples/ZIF_example.xyz</div>
<div class="line">SAMPLE_TIME = 0</div>
<div class="line">CONFIGURATION_FILE = examples/structure-types.ini</div>
<div class="line">CONFIGURATION_NAME = ZIF</div>
<div class="line">N_THREADS=32</div>
<div class="line">FILE_FORMAT = xyz</div>
<div class="line">KERNEL = TRUE</div>
<div class="line">IMAGE = TRUE</div>
<div class="line">COKERNEL = TRUE</div>
<div class="line">SAVE_PLOTS = TRUE</div>
<div class="line">THICKNESS = 0.1</div>
<div class="line">N_THREADS = 16</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Settings for multi mode</h1>
<p>In mutli mode, <a class="el" href="namespaceToMA.html">ToMA</a> analyses a single structure at multiple timesteps, and so requires the following parameters:</p><ul>
<li><code>STRUCTURE_FILE</code>: this is the file containing the structure you want to analyse.</li>
<li><code>FILE_FORMAT</code>: format of the structure file.</li>
<li><code>SAMPLE_START</code>: which time step you begin analysing at.</li>
<li><code>SAMPLE_END</code>: which time step to end at.</li>
<li><code>SAMPLE_STEPS</code>: step size.</li>
<li><code>CONFIGURATION_FILE</code>: the file which contains information about configuration you are analysing, see the Configuration files section.</li>
<li><code>CONFIGURATION_NAME</code>: name of the configuration in the configuration file. while the following are optional:</li>
<li><code>N_THREADS</code>: number of threads to use for Oineus.</li>
<li><code>KERNEL</code>: boolean, set to true if you want to compute kernel persistence.</li>
<li><code>IMAGE</code>: boolean, set to true if you want to compute image persistence.</li>
<li><code>COKERNEL</code>: boolean, set to true if you want to compute cokernel persistence.</li>
<li><code>THICKNESS</code>: set how thick the top and bottom slices should be for kernel/image/cokernel persistence, as a decimal, representing the relative thickness.</li>
<li><code>SAVE_PLOTS</code>: boolean, set to true if you want to save the plots.</li>
</ul>
<p>For example: </p><div class="fragment"><div class="line">[MULTI]</div>
<div class="line">MODE = MULTI</div>
<div class="line">STRUCTURE_FILE = examples/ZIF_example.xyz</div>
<div class="line">STRUCTURE_NAME = ZIF</div>
<div class="line">SAMPLE_START = 0</div>
<div class="line">SAMPLE_END = 10</div>
<div class="line">SAMPLE_STEP = 1</div>
<div class="line">CONFIGURATION_FILE =  examples/structure-types.ini</div>
<div class="line">FORMAT = xyz</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md7"></a>
Settings for batch mode</h1>
<p>In batch mode, <a class="el" href="namespaceToMA.html">ToMA</a> analyses every structure it can find in a directory and all subdirectories, at multiple timesteps, and so requires the following parameters:</p><ul>
<li><code>PARENT_DIR</code>: which directory to commence the search in.</li>
<li><code>FILE_EXT</code>: what the file extension is, any file with a different extension will be ignored.</li>
<li><code>FILE_FORMAT</code>: format of the structure file.</li>
<li><code>SAMPLE_START</code>: which time step you begin analysing at.</li>
<li><code>SAMPLE_END</code>: which time step to end at.</li>
<li><code>SAMPLE_STEPS</code>: step size.</li>
<li><code>CONFIGURATION_FILE</code>: the file which contains information about configuration you are analysing, see the Configuration files section.</li>
<li><code>CONFIGURATION_NAME</code>: name of the configuration in the configuration file. while the following are optional:</li>
<li><code>N_THREADS</code>: number of threads to use for Oineus.</li>
<li><code>KERNEL</code>: boolean, set to true if you want to compute kernel persistence.</li>
<li><code>IMAGE</code>: boolean, set to true if you want to compute image persistence.</li>
<li><code>COKERNEL</code>: boolean, set to true if you want to compute cokernel persistence.</li>
<li><code>THICKNESS</code>: set how thick the top and bottom slices should be for kernel/image/cokernel persistence, as a decimal, representing the relative thickness.</li>
<li><code>SAVE_PLOTS</code>: boolean, set to true if you want to save the plots.</li>
</ul>
<p>For example: </p><div class="fragment"><div class="line">[BATCH]</div>
<div class="line">MODE = BATCH</div>
<div class="line">PARENT_DIR = Series_2</div>
<div class="line">FILE_EXT = .transformed</div>
<div class="line">FILE_FORMAT = lammps-dump-text</div>
<div class="line">SAMPLE_START = 100</div>
<div class="line">SAMPLE_END = 200</div>
<div class="line">SAMPLE_STEP = 8</div>
<div class="line">CONFIGURATION_FILE =  structure.ini</div>
<div class="line">CONFIGURATION_NAME = LI2S-P2S5</div>
<div class="line">KERNEL = TRUE</div>
<div class="line">IMAGE = TRUE</div>
<div class="line">COKERNEL = TRUE</div>
<div class="line">SAVE_PLOTS = TRUE</div>
<div class="line">THICKNESS = 0.1</div>
<div class="line">N_THREADS = 16</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Configuration files</h2>
<p>Configuration files contain information about the type of material you want to analyse. They should be <code>.ini</code> files. In particular, it needs to contain information about the atoms you want to consider, the radii to use for each one, and settings for repeating the unit cell. In particular, if you have simulated a material through which certain atoms flow, and want to consider the <em>backbone</em> through which these atoms move, you can do not need to modify the file from the simulation: <a class="el" href="namespaceToMA.html">ToMA</a> will only use atoms of the specified types when constructing the $\alpha$-complexes for persistent homology.</p>
<p>Very important, a structure file can contain information about several different structures, they just need unique names. An example of specifying a structure is: </p><div class="fragment"><div class="line">[ZIF]</div>
<div class="line">ATOMS = H, C, N, Zn     </div>
<div class="line">RADII = 0.389, 0.718, 0.635, 1.491</div>
<div class="line">REPEAT_X = 3</div>
<div class="line">REPEAT_Y = 3</div>
<div class="line">REPEAT_Z = 3</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
